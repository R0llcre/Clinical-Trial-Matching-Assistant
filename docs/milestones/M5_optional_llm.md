M5 Optional LLM

目标
- 引入 LLM 解析与增强召回

完成定义
- LLM 可用时提升覆盖率
- LLM 不可用时系统正常运行

M5-1 LLM 解析器
目的
- 处理复杂规则与时间窗
为什么
- 规则解析覆盖有限
输入
- eligibility_text
步骤
1. 定义 JSON schema
2. 实现 LLM 调用
3. 校验输出结构
输出
- LLM 解析模块
验收
1. 输出符合 schema
2. 失败时回退规则解析

M5-2 成本控制
目的
- 避免超预算
为什么
- LLM 调用成本不稳定
输入
- 调用统计
步骤
1. 记录 token 使用量
2. 设置每日预算
3. 超预算自动关闭 LLM
输出
- 成本控制逻辑
验收
1. 超预算时自动降级

M5-3 质量门槛
目的
- 保证 LLM 不降低质量
为什么
- 引入 LLM 可能增加幻觉
输入
- 评估指标
步骤
1. 对 LLM 输出做 evidence 对齐
2. Hallucination 超阈值自动回退
输出
- 质量守门逻辑
验收
1. 幻觉率超过阈值时禁用 LLM
